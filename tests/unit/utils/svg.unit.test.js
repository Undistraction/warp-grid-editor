// eslint-disable-next-line import/no-unresolved
import warpGrid from 'warp-grid'

import { getSvgForGrid } from '../../../src/utils/svg'

// -----------------------------------------------------------------------------
// Const
// -----------------------------------------------------------------------------

const BOUNDING_CURVES = {
  top: {
    startPoint: { x: 0, y: 0 },
    endPoint: { x: 100, y: 0 },
    controlPoint1: { x: 10, y: -10 },
    controlPoint2: { x: 90, y: -10 },
  },
  bottom: {
    startPoint: { x: 0, y: 100 },
    endPoint: { x: 100, y: 100 },
    controlPoint1: { x: -10, y: 110 },
    controlPoint2: { x: 110, y: 110 },
  },
  left: {
    startPoint: { x: 0, y: 0 },
    endPoint: { x: 0, y: 100 },
    controlPoint1: { x: -10, y: -10 },
    controlPoint2: { x: -10, y: 110 },
  },
  right: {
    startPoint: { x: 100, y: 0 },
    endPoint: { x: 100, y: 100 },
    controlPoint1: { x: 110, y: -10 },
    controlPoint2: { x: 110, y: 110 },
  },
}

// -----------------------------------------------------------------------------
// Tests
// -----------------------------------------------------------------------------

describe(`getSvgForGrid`, () => {
  it(`returns an svg document for the supplied grid`, () => {
    const grid = warpGrid(BOUNDING_CURVES, { columns: 3, rows: 5 })
    console.dir(getSvgForGrid(grid, { width: 110, height: 110 }), {
      depth: 9999,
    })
    expect(getSvgForGrid(grid, { width: 110, height: 110 })).toBe(
      `<svg\n` +
        `  xmlns="http://www.w3.org/2000/svg"\n` +
        `  overflow="visible"\n` +
        `  viewBox="0 0 110 110"\n` +
        `  width="110px"\n` +
        `  height="110px"\n` +
        `>\n` +
        `  <path stroke="black" fill="transparent" d="M0 0 C0 0 32.93531070818844 -7.003774504353478 32.93531070818844 -7.003774504353478 C32.93531070818844 -7.003774504353478 30.731112487204886 13.945938005902146 30.731112487204886 13.945938005902146 C30.731112487204886 13.945938005902146 -6.211679114533506 18.120956058294 -6.211679114533506 18.120956058294 C-6.211679114533506 18.120956058294 0 0 0 0 Z" />\n` +
        `  <path stroke="black" fill="transparent" d="M-6.211679114533506 18.120956058294 C-6.211679114533506 18.120956058294 30.731112487204886 13.945938005902146 30.731112487204886 13.945938005902146 C30.731112487204886 13.945938005902146 30.210248756531833 38.00448538835119 30.210248756531833 38.00448538835119 C30.210248756531833 38.00448538835119 -7.373354758135497 39.350746988781424 -7.373354758135497 39.350746988781424 C-7.373354758135497 39.350746988781424 -6.211679114533506 18.120956058294 -6.211679114533506 18.120956058294 Z" />\n` +
        `  <path stroke="black" fill="transparent" d="M-7.373354758135497 39.350746988781424 C-7.373354758135497 39.350746988781424 30.210248756531833 38.00448538835119 30.210248756531833 38.00448538835119 C30.210248756531833 38.00448538835119 30.07661024039278 62.13174786275002 30.07661024039278 62.13174786275002 C30.07661024039278 62.13174786275002 -7.373354758135496 60.6492530112186 -7.373354758135496 60.6492530112186 C-7.373354758135496 60.6492530112186 -7.373354758135497 39.350746988781424 -7.373354758135497 39.350746988781424 Z" />\n` +
        `  <path stroke="black" fill="transparent" d="M-7.373354758135496 60.6492530112186 C-7.373354758135496 60.6492530112186 30.07661024039278 62.13174786275002 30.07661024039278 62.13174786275002 C30.07661024039278 62.13174786275002 30.330196938787726 86.19029524519904 30.330196938787726 86.19029524519904 C30.330196938787726 86.19029524519904 -6.211679114533504 81.87904394170602 -6.211679114533504 81.87904394170602 C-6.211679114533504 81.87904394170602 -7.373354758135496 60.6492530112186 -7.373354758135496 60.6492530112186 Z" />\n` +
        `  <path stroke="black" fill="transparent" d="M-6.211679114533504 81.87904394170602 C-6.211679114533504 81.87904394170602 30.330196938787726 86.19029524519904 30.330196938787726 86.19029524519904 C30.330196938787726 86.19029524519904 32.26711812749319 107.14000775545462 32.26711812749319 107.14000775545462 C32.26711812749319 107.14000775545462 0 100 0 100 C0 100 -6.211679114533504 81.87904394170602 -6.211679114533504 81.87904394170602 Z" />\n` +
        `  <path stroke="black" fill="transparent" d="M32.93531070818844 -7.003774504353478 C32.93531070818844 -7.003774504353478 67.06468929181153 -7.003774504353482 67.06468929181153 -7.003774504353482 C67.06468929181153 -7.003774504353482 69.26888751279508 13.945938005902148 69.26888751279508 13.945938005902148 C69.26888751279508 13.945938005902148 30.731112487204886 13.945938005902146 30.731112487204886 13.945938005902146 C30.731112487204886 13.945938005902146 32.93531070818844 -7.003774504353478 32.93531070818844 -7.003774504353478 Z" />\n` +
        `  <path stroke="black" fill="transparent" d="M30.731112487204886 13.945938005902146 C30.731112487204886 13.945938005902146 69.26888751279508 13.945938005902148 69.26888751279508 13.945938005902148 C69.26888751279508 13.945938005902148 69.78975124346813 38.00448538835117 69.78975124346813 38.00448538835117 C69.78975124346813 38.00448538835117 30.210248756531833 38.00448538835119 30.210248756531833 38.00448538835119 C30.210248756531833 38.00448538835119 30.731112487204886 13.945938005902146 30.731112487204886 13.945938005902146 Z" />\n` +
        `  <path stroke="black" fill="transparent" d="M30.210248756531833 38.00448538835119 C30.210248756531833 38.00448538835119 69.78975124346813 38.00448538835117 69.78975124346813 38.00448538835117 C69.78975124346813 38.00448538835117 69.9233897596072 62.131747862750004 69.9233897596072 62.131747862750004 C69.9233897596072 62.131747862750004 30.07661024039278 62.13174786275002 30.07661024039278 62.13174786275002 C30.07661024039278 62.13174786275002 30.210248756531833 38.00448538835119 30.210248756531833 38.00448538835119 Z" />\n` +
        `  <path stroke="black" fill="transparent" d="M30.07661024039278 62.13174786275002 C30.07661024039278 62.13174786275002 69.9233897596072 62.131747862750004 69.9233897596072 62.131747862750004 C69.9233897596072 62.131747862750004 69.66980306121226 86.190295245199 69.66980306121226 86.190295245199 C69.66980306121226 86.190295245199 30.330196938787726 86.19029524519904 30.330196938787726 86.19029524519904 C30.330196938787726 86.19029524519904 30.07661024039278 62.13174786275002 30.07661024039278 62.13174786275002 Z" />\n` +
        `  <path stroke="black" fill="transparent" d="M30.330196938787726 86.19029524519904 C30.330196938787726 86.19029524519904 69.66980306121226 86.190295245199 69.66980306121226 86.190295245199 C69.66980306121226 86.190295245199 67.73288187250682 107.14000775545463 67.73288187250682 107.14000775545463 C67.73288187250682 107.14000775545463 32.26711812749319 107.14000775545462 32.26711812749319 107.14000775545462 C32.26711812749319 107.14000775545462 30.330196938787726 86.19029524519904 30.330196938787726 86.19029524519904 Z" />\n` +
        `  <path stroke="black" fill="transparent" d="M67.06468929181153 -7.003774504353482 C67.06468929181153 -7.003774504353482 100 0 100 0 C100 0 106.21167911453352 18.120956058294 106.21167911453352 18.120956058294 C106.21167911453352 18.120956058294 69.26888751279508 13.945938005902148 69.26888751279508 13.945938005902148 C69.26888751279508 13.945938005902148 67.06468929181153 -7.003774504353482 67.06468929181153 -7.003774504353482 Z" />\n` +
        `  <path stroke="black" fill="transparent" d="M69.26888751279508 13.945938005902148 C69.26888751279508 13.945938005902148 106.21167911453352 18.120956058294 106.21167911453352 18.120956058294 C106.21167911453352 18.120956058294 107.37335475813549 39.350746988781424 107.37335475813549 39.350746988781424 C107.37335475813549 39.350746988781424 69.78975124346813 38.00448538835117 69.78975124346813 38.00448538835117 C69.78975124346813 38.00448538835117 69.26888751279508 13.945938005902148 69.26888751279508 13.945938005902148 Z" />\n` +
        `  <path stroke="black" fill="transparent" d="M69.78975124346813 38.00448538835117 C69.78975124346813 38.00448538835117 107.37335475813549 39.350746988781424 107.37335475813549 39.350746988781424 C107.37335475813549 39.350746988781424 107.37335475813549 60.6492530112186 107.37335475813549 60.6492530112186 C107.37335475813549 60.6492530112186 69.9233897596072 62.131747862750004 69.9233897596072 62.131747862750004 C69.9233897596072 62.131747862750004 69.78975124346813 38.00448538835117 69.78975124346813 38.00448538835117 Z" />\n` +
        `  <path stroke="black" fill="transparent" d="M69.9233897596072 62.131747862750004 C69.9233897596072 62.131747862750004 107.37335475813549 60.6492530112186 107.37335475813549 60.6492530112186 C107.37335475813549 60.6492530112186 106.21167911453347 81.87904394170602 106.21167911453347 81.87904394170602 C106.21167911453347 81.87904394170602 69.66980306121226 86.190295245199 69.66980306121226 86.190295245199 C69.66980306121226 86.190295245199 69.9233897596072 62.131747862750004 69.9233897596072 62.131747862750004 Z" />\n` +
        `  <path stroke="black" fill="transparent" d="M69.66980306121226 86.190295245199 C69.66980306121226 86.190295245199 106.21167911453347 81.87904394170602 106.21167911453347 81.87904394170602 C106.21167911453347 81.87904394170602 100 100 100 100 C100 100 67.73288187250682 107.14000775545463 67.73288187250682 107.14000775545463 C67.73288187250682 107.14000775545463 69.66980306121226 86.190295245199 69.66980306121226 86.190295245199 Z" />\n` +
        `</svg>`
    )
  })
})
